[Оглавление](README.md)

# 1. Типы источников данных

### 1.1 Введение

Библиотека RxJava построена на паттерне проектирования, который называется "Наблюдатель". 
Если говорить кратко, то это паттерн, который содержит две сущности - Observable и observer. 
Observer подписывается на Observable и следит за всеми изменениями, которые приходят от Observable.
Более подробно об этом паттерне можно прочитать в специализированной литературе, например, "Банда четырех".

В RxJava существует 5 типов источников данных

1. Observable
2. Single
3. Maybe
4. Completable
5. Flowable

### 1.2 Observable

При подписке на Observable, могут приходить события трех типов:

- *onNext()*
- *onError()*
- *onCompleted()*

Важно понимать, что *onCompleted()* и *onError()* являются терминальными состояниями. 
Если в подписчика придет одно из этих событий, то эмитиинг данных от источника на этом закончится. 
А если придет *onNext()*, то мы можем ожидать либо снова *onNext()*, либо одно из терминальных состояний. 
Таким образом работает Observable. Важно понимать, что по умолчанию Observable и все остальные источники данных, являются "холодными", то есть данные не начнут эмититься до тех пор, пока у источника данных не появиться хотя бы один подписчик. 
Чуть позже мы поговорим о "горячих" источниках данных. И как преобразовать "холодный" в "горячий".

### 1.3 Single

Single возвращает события двух типов, либо *onSuccess()*, либо *onError()*. Эти события являются терминальными. Этот источник отлично подходит для работы с сетевыми запросами.

### 1.4 Maybe

Maybe возвращает событие трех типов либо *onSuccess()*, либо *onError()*, либо *onComplete()*. Каждый из этих событий является терминальным. Maybe более расширенная версия Single, потому что дополнительно имеет еще одно терминальное состояние. Может быть использовано, когда сетевой запрос может ничего не вернуть

### 1.5 Completable

Completable возвращает событие 2 типов либо *onCompletable()*, либо *onError()*. Каждый из этих событий является терминальным.

### 1.6 Flowable

Flowable - это Observable, который поддерживает работу с Backpressure. Backpressure - это ситуация, при которой подписчик не успевает обрабатывать данные, испускаемые источником.

Для обработки Backpressure. Flowable содержит различные стратегии обработки ошибок в enum'е BackpressureStrategy, который содержит 5 стратегий обработки ошибок:

1. MISSING - События onNext записываются без какой-либо буферизации или удаления.

2. ERROR - Выкидывается MissingBackpressureException, если нисходящий поток не успевает обработать их.

3. DROP - Отбрасывает самое последнее onNext значение, если нисходящий поток не успевает обработать их.

4. LATEST - Сохраняет только самое последнее onNext значение, перезаписывая любое предыдущее значение, если нисходящий поток не успевает обработать их.

5. BUFFER - Буферизирует все onNext значения до тех пор, пока их не использует нисходящий поток.